(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5075)}])},2501:function(e,r,n){"use strict";n.d(r,{a:function(){return d}});var t=n(4051),o=n.n(t),i=n(7294),u=n(5725);function s(e,r,n,t,o,i,u){try{var s=e[i](u),a=s.value}catch(c){return void n(c)}s.done?r(a):Promise.resolve(a).then(t,o)}function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){a(e,r,n[r])}))}return e}var l="__store_RiotAuthBundle",d=function(){var e=(0,i.useState)(null),r=e[0],n=e[1],t=(0,i.useState)(null),a=t[0],d=t[1],h=(0,i.useState)(!0),f=h[0],p=h[1],v=function(){var e,r=(e=o().mark((function e(r,t,i){var s,a,h,f,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,fetch(u.basePath+"/api/getAuthTokens",{body:JSON.stringify({username:r,password:t,region:i}),method:"POST",headers:{"Content-Type":"application/json"}});case 3:if(200==(s=e.sent).status){e.next=11;break}return e.t0=d,e.next=8,s.text();case 8:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return");case 11:return e.next=13,s.json();case 13:a=e.sent,h=new Date,f=new Date(h.getTime()+33e5),v=c({},a,{expires:f}),n(v),localStorage.setItem(l,JSON.stringify(v)),p(!1);case 20:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function u(e){s(i,t,o,u,a,"next",e)}function a(e){s(i,t,o,u,a,"throw",e)}u(void 0)}))});return function(e,n,t){return r.apply(this,arguments)}}();return(0,i.useEffect)((function(){var e=localStorage.getItem(l);if(e){var r=JSON.parse(e),t=new Date(r.expires);console.log(t),null!==r&&t>new Date&&(r.expires=t,n(r))}p(!1)}),[]),{loading:f,authBundle:r,createAuthBundle:v,clearAuthBundle:function(){p(!0),n(null),null!==localStorage.getItem(l)&&localStorage.removeItem(l),p(!1)},error:a}}},5725:function(e){"use strict";e.exports={basePath:"/ValoStore_web",reactStrictMode:!0,images:{domains:["media.valorant-api.com"]}}},5075:function(e,r,n){"use strict";n.r(r);var t=n(4051),o=n.n(t),i=n(5893),u=n(7536),s=n(2501),a=n(7294),c=n(1163),l=n(8917),d=n(3492),h=n(9952),f=n(4348),p=n(2308),v=n(887);function x(e,r,n,t,o,i,u){try{var s=e[i](u),a=s.value}catch(c){return void n(c)}s.done?r(a):Promise.resolve(a).then(t,o)}function j(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function m(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){j(e,r,n[r])}))}return e}r.default=function(){var e=(0,u.cI)(),r=e.register,n=e.handleSubmit,t=e.formState.errors,j=(0,s.a)(),w=j.createAuthBundle,g=j.clearAuthBundle,b=(j.error,j.loading),y=j.authBundle,O=(0,c.useRouter)(),P=function(){var e,r=(e=o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(r.username,r.password,r.region);case 2:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function u(e){x(i,t,o,u,s,"next",e)}function s(e){x(i,t,o,u,s,"throw",e)}u(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,a.useEffect)((function(){!b&&y&&O.push("/store")}),[b]),(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(d.Z,{h1:!0,children:"Login"}),(0,i.jsx)(h.Z,{h:1}),(0,i.jsx)("div",{style:{maxWidth:"16rem"},children:(0,i.jsxs)("form",{onSubmit:n(P),children:[(0,i.jsx)(f.Z,m({placeholder:"Username"},r("username",{required:!0}),{width:"100%",children:t.username&&(0,i.jsx)(p.Z,{type:"error",children:(0,i.jsx)(d.Z,{small:!0,children:"This field is required"})})})),(0,i.jsx)(h.Z,{h:1}),(0,i.jsx)(f.Z.Password,m({width:"100%",placeholder:"Password"},r("password",{required:!0}),{children:t.password&&(0,i.jsx)(p.Z,{type:"error",children:(0,i.jsx)(d.Z,{small:!0,children:"This field is required"})})})),(0,i.jsx)(h.Z,{h:1}),(0,i.jsx)(d.Z,{children:"Select your region."}),(0,i.jsxs)("select",m({},r("region"),{required:!0,children:[(0,i.jsx)("option",{value:"KR",children:"KR"}),(0,i.jsx)("option",{value:"EU",children:"EU"}),(0,i.jsx)("option",{value:"AP",children:"AP"}),(0,i.jsx)("option",{value:"NA",children:"NA"}),(0,i.jsx)("option",{value:"BR",children:"BR"}),(0,i.jsx)("option",{value:"LATAM",children:"LATAM"})]})),(0,i.jsx)(h.Z,{h:1}),(0,i.jsx)(v.Z,{loading:b,htmlType:"submit",width:"100%",children:"Log In"}),(0,i.jsx)(h.Z,{h:1}),(0,i.jsx)(v.Z,{onClick:function(){return g()},ghost:!0,width:"100%",children:"Log Out"})]})}),(0,i.jsx)(l.Z.Footer,{children:(0,i.jsx)(d.Z,{type:"secondary",children:"scottjsh \xa9 2024"})})]})}}},function(e){e.O(0,[683,774,888,179],(function(){return r=5301,e(e.s=r);var r}));var r=e.O();_N_E=r}]);